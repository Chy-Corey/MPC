## Fault-Tolerant Control of Autonomous Surface Vessels Subject to Steer Jamming for Habor Returning

### Note

本文提出了一种周期前馈控制（periodic-forward control, PFC），可根据 ASV 旋转运动的位置**调节执行器功率**，从而保证向任何理想方向前进的可行性。基于李亚普诺夫理论推导出了确保闭环 ASV 系统渐近稳定性的充分条件。简而言之，本研究有两方面的贡献。



运动学与动力学方程（前三个运动学方程，后三个动力学方程）：

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\03-01.png" alt="03-01" style="zoom:67%;" />

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\03-02.png" alt="03-02" style="zoom:67%;" />

其运动学方程与 AUV 完全相同，动力学方程则不同，以下为 AUV 水平面动力学模型：

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\02-04.png" alt="02-04" style="zoom:67%;" />

其中参数 $D_u$ 与 $u$ 相关，而 ASV 的动力学模型中参数与状态量无关。



在自动潜航器的操作中，经常会遇到执行器的**控制输入无法精确为零**，而是一直保持为负或正的情况。例如，单体船的方向舵可能会被海水腐蚀或被杂草缠绕，这通常会造成堵塞。另一种情况，在机械或电气故障的情况下，双体船可能会失去动力或被卡在一侧。在这种情况下，$τ_u$ 和 $τ_r$ 都**被限制在非常狭窄的区域内**，不包括零点，因此，ASV 不可能沿直线运动，而只能做一些螺旋运动。执行器卡斯故障描述为：

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\03-08.png" alt="03-08" style="zoom:67%;" />

所以本文的讨论问题为：

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\03-03.png" alt="03-03" style="zoom:67%;" />

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\03-04.png" alt="03-04" style="zoom:67%;" />

如图 2 所示，之所以轨迹不像《Fault-Tolerant Control for AUVs Using a Single Thruster》中的近似圆形，是因为本文中控制输入有两个：thruster 和 rudder ，对应到控制输出就是 $τ_u$ 和 $τ_r$ 。两个执行机构虽然被限制在非常狭窄的区域内，但仍可以调节相对大小，从而较大程度调节轨迹的半径；而《Fault-Tolerant Control for AUVs Using a Single Thruster》只剩下一个执行器 thruster 进行调节，且该执行器同时作用于 $τ_u$ 和 $τ_r$ ，所以为了保证稳定性，控制算法较为保守，导致轨迹的半径变化较小。



式（5）中 $\Psi^{-1}$ 表示反函数，反函数的结果即对旋转一周所需要的时间（$\Psi(t)-2\pi$ 对应 t 时刻的方向角减去一个圆周）。

如图 3 所示，为了微调 ASV 螺旋运动过程中的运动方向 ψ，将 ψ 的范围划分为两个区域：

1. 角度调整区：$\Psi_t=[2k\pi +\Psi_r-\Psi_f, 2k\pi +\Psi_r+\Psi_f]$-
2. 加速区：$\Psi_a=[2k\pi +\Psi_r+\Psi_f, (2k+2)\pi +\Psi_r-\Psi_f]$

两个区域正好构成一个周期（一个圆），角度区即 $\tau_u$ 小 $\tau_r$ 大；加速区即  $\tau_u$ 大 $\tau_r$ 小。

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\03-05.png" alt="03-05" style="zoom:67%;" />

具体地说，在角度调整区，ASV 在增加转向角速度的同时降低前进速度，而在加速区则相反。需要注意的是，变量  $\Psi_r$ 用于调整 ASV 的运动方向，**可以在线调整**。$\Psi_f$ 决定了 2π 周期内角度调整区Ψt和加速区Ψa的大小。

也就是说 $\Psi_f$ 是根据 ASV 的动态性能离线设计的，$\Psi_r$ 是在线运行时根据 ASV 需要的运动方向进行调整的。（通过两个区域的定义式可以得出前者决定区域的大小，后者决定切换的时机）

在设计回港控制器之前，有必要定义 ASV 的实时（平均）运动方向 φ(t) 为：

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\03-06.png" alt="03-06" style="zoom:67%;" />

一个连续周期的 quasi-sigmoid （准 sigmoid）函数：

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\03-07.png" alt="03-07" style="zoom:67%;" />

这是一个准 sigmoid 函数，更形象的可以叫做根据两个区域划分的周期性阶跃函数：

- 角度调整区 $\Psi_t$ ：$ϕ  (\Psi)\rightarrow 0$
- 加速区 $\Psi_a$ ：$ϕ  (\Psi)\rightarrow 1$



在故障的情况下，ASV 无法沿直线运行，只能沿螺旋曲线运行，这就很难直接实现以 ASV 的**实际航向角和位置**为控制目标的有效控制律。为了将 ASV 控制在一个理想的方向上返回港口，我们提出了一种螺旋前进策略，以调节螺旋曲线的中心到达港口。因此，本文引入ϕ，将圆周 2π 划分为两个区域，即角度调整区和加速区。更重要的是，ASV 在此期间的**平均航向角 φ(t) 是可控的**，而实时航向则不可控。因此，为了实现 ASV 的返航任务，**将 φ(t) 作为控制目标更为合理**。



文章的控制律设计似乎有些问题：

<img src="E:\Library\硕士实验室\MPC\Note\2024_3\image\03-09.png" alt="03-09" style="zoom:67%;" />

这是一个开环控制律，并不会根据方向角来调控。





### Thinking

**两篇文章的相同点和不同点**

1. 两篇文章都是针对“平均值”进行控制，都是以旋转一圈为周期（虽然数学表达方式不同）。
2. 两篇文章都是 bang-bang 控制。（因为针对的是卡舵情况）
3. 该文章的动态性能比 AUV 那篇要好一些，是因为这篇文章还剩两个执行器，而另一篇只剩一个。
4. 这篇文章通过 $\Psi_f$ 来划分一个圆周内加速和减速的比例，另一篇直接对半分。所以该文章的控制方法动态性能也要较为优秀一些。 





**能否结合可以直线行驶的情况，设计一个不需要分情况讨论的控制器？**

这两篇文章都是针对只剩一个或两个控制自由度情况下的螺旋运动控制，但是否可以将直线运动和螺旋运动结合？能够在系统可以直线运动时采用直线运动控制，迫不得已（控制自由度非常滴）的情况下再进行螺旋运动。

